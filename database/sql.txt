CREATE DATABASE `you-reservation` /*!40100 DEFAULT CHARACTER SET utf8 */;


CREATE TABLE `admin` (
  `admin_id` int(11) NOT NULL AUTO_INCREMENT,
  `id_user` int(11) DEFAULT NULL,
  `user_nom` varchar(100) NOT NULL,
  `user_prenom` varchar(100) NOT NULL,
  `user_email` varchar(100) DEFAULT NULL,
  `user_password` varchar(100) DEFAULT NULL,
  `id_role` int(11) DEFAULT NULL,
  PRIMARY KEY (`admin_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

//

CREATE TABLE `apprenant` (
  `apprenant_id` int(11) NOT NULL AUTO_INCREMENT,
  `id_user` int(11) DEFAULT NULL,
  `user_nom` varchar(100) DEFAULT NULL,
  `user_prenom` varchar(100) DEFAULT NULL,
  `user_email` varchar(100) DEFAULT NULL,
  `user_password` varchar(100) DEFAULT NULL,
  `id_role` int(11) DEFAULT NULL,
  `nmbr_reservation` int(11) DEFAULT NULL,
  PRIMARY KEY (`apprenant_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

//


CREATE TABLE `nombre_place` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `id_user` int(11) DEFAULT NULL,
  `nombre` int(11) DEFAULT NULL,
  `date_ajoute` date DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `nombre_place_FK` (`id_user`),
  CONSTRAINT `nombre_place_FK` FOREIGN KEY (`id_user`) REFERENCES `admin` (`admin_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

//


CREATE TABLE `reservation` (
  `id_reservation` int(11) NOT NULL AUTO_INCREMENT,
  `date_reservation` date NOT NULL,
  `id_user` int(11) DEFAULT NULL,
  `confirmation` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`id_reservation`),
  KEY `reservation_FK` (`id_user`),
  CONSTRAINT `reservation_FK` FOREIGN KEY (`id_user`) REFERENCES `apprenant` (`apprenant_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

//

CREATE TABLE `role` (
  `id_role` int(11) NOT NULL AUTO_INCREMENT,
  `name_role` varchar(100) NOT NULL,
  PRIMARY KEY (`id_role`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

//

CREATE TABLE `user` (
  `user_id` int(11) NOT NULL AUTO_INCREMENT,
  `user_nom` varchar(100) NOT NULL,
  `user_prenom` varchar(100) NOT NULL,
  `user_email` varchar(100) DEFAULT NULL,
  `user_password` varchar(100) DEFAULT NULL,
  `id_role` int(11) DEFAULT NULL,
  PRIMARY KEY (`user_id`),
  KEY `user_FK` (`id_role`),
  CONSTRAINT `user_FK` FOREIGN KEY (`id_role`) REFERENCES `role` (`id_role`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;